<% content_for :title, t("sms_validator.steps.step1") %>

<div class="content-content">
  <div class="row">

    <div class="col-md-6">
      <%= render partial: "steps", locals: {step: 1} %>

      <%= semantic_form_for(current_user, url: sms_validator_phone_path, html: {method: :post}) do |f| %>
        <fieldset>
          <legend class="invisible">Cambia tu móvil</legend>

          <p><%= t('sms_validator.phone.p2') %></p>

          <p><%= t('sms_validator.phone.information_html',
                   country: current_user.country_name,
                   prefix: current_user.phone_prefix) %></p>

          <%= errors_in_form current_user %>

          <div class="inputlabel-box">
            <% if current_user.errors.include?(:unconfirmed_phone) %>
              <%= field_notice_box %>
            <% end %>
            <%= f.input :unconfirmed_phone, as: :number, prepend: "+#{current_user.phone_prefix}", input_html: {autofocus: true, required: true, value: current_user.unconfirmed_phone_number } %>
          </div>

          <%= f.actions do %>
            <%= f.action :submit, label: "Guardar móvil", button_html: {class: "button"} %>
          <% end %>
        </fieldset>
      <% end %>
    </div>
  </div>
</div>
